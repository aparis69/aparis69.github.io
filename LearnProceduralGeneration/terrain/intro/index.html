
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../../fundamentals/glossary/">
      
      
        <link rel="next" href="../procedural/noise_for_terrains/">
      
      
      <link rel="icon" href="../../img/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.14">
    
    
      
        <title>Introduction - Learn Procedural Generation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.10ba22f1.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../css/style.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#introduction" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Learn Procedural Generation" class="md-header__button md-logo" aria-label="Learn Procedural Generation" data-md-component="logo">
      
  <img src="../../img/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Learn Procedural Generation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Introduction
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Learn Procedural Generation" class="md-nav__button md-logo" aria-label="Learn Procedural Generation" data-md-component="logo">
      
  <img src="../../img/logo.png" alt="logo">

    </a>
    Learn Procedural Generation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduction
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Fundamentals
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Fundamentals
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../fundamentals/noise/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Noise
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../fundamentals/implicits/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Implicits
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../fundamentals/interpolation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Interpolation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../fundamentals/glossary/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Glossary
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Terrain
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Terrain
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Introduction
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Introduction
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#getting-started" class="md-nav__link">
    <span class="md-ellipsis">
      Getting started
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#heightfields" class="md-nav__link">
    <span class="md-ellipsis">
      Heightfields
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Heightfields">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#discrete-vs-procedural" class="md-nav__link">
    <span class="md-ellipsis">
      Discrete vs Procedural
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#a-minimalist-implementation" class="md-nav__link">
    <span class="md-ellipsis">
      A Minimalist Implementation
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rendering-a-heightfield" class="md-nav__link">
    <span class="md-ellipsis">
      Rendering a Heightfield
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Rendering a Heightfield">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#polygonization" class="md-nav__link">
    <span class="md-ellipsis">
      Polygonization
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sphere-tracing" class="md-nav__link">
    <span class="md-ellipsis">
      Sphere tracing
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#interactive-example" class="md-nav__link">
    <span class="md-ellipsis">
      Interactive Example
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#appendix-storing-heightfields-as-images" class="md-nav__link">
    <span class="md-ellipsis">
      Appendix: Storing Heightfields as Images
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#appendix-going-further" class="md-nav__link">
    <span class="md-ellipsis">
      Appendix: Going further
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#associated-files" class="md-nav__link">
    <span class="md-ellipsis">
      Associated files
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Procedural
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            Procedural
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../procedural/noise_for_terrains/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Noise for terrains
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../procedural/designing_primitives/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Designing primitives
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../procedural/designing_operators/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Designing operators
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../procedural/terrain_construction_tree/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Terrain construction tree
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_3" >
        
          
          <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Simulation
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            Simulation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../simulation/erosion_hydraulic/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Hyraulic Erosion
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../simulation/erosion_thermal/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Thermal Erosion
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../simulation/erosion_streampower/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Stream Power Erosion
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_4" >
        
          
          <label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Volumetric
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            Volumetric
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../volumetric/going_3D/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    What is a Volumetric Terrain?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../volumetric/voxels/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Using Voxels
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../volumetric/implicits/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Using Implicit Surfaces
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Rivers
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Rivers
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../rivers/intro/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduction
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../rivers/hydrology_correction/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    The Importance of Breaching
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../rivers/river_generation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Generating River Networks
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../about/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    About
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#getting-started" class="md-nav__link">
    <span class="md-ellipsis">
      Getting started
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#heightfields" class="md-nav__link">
    <span class="md-ellipsis">
      Heightfields
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Heightfields">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#discrete-vs-procedural" class="md-nav__link">
    <span class="md-ellipsis">
      Discrete vs Procedural
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#a-minimalist-implementation" class="md-nav__link">
    <span class="md-ellipsis">
      A Minimalist Implementation
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rendering-a-heightfield" class="md-nav__link">
    <span class="md-ellipsis">
      Rendering a Heightfield
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Rendering a Heightfield">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#polygonization" class="md-nav__link">
    <span class="md-ellipsis">
      Polygonization
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sphere-tracing" class="md-nav__link">
    <span class="md-ellipsis">
      Sphere tracing
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#interactive-example" class="md-nav__link">
    <span class="md-ellipsis">
      Interactive Example
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#appendix-storing-heightfields-as-images" class="md-nav__link">
    <span class="md-ellipsis">
      Appendix: Storing Heightfields as Images
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#appendix-going-further" class="md-nav__link">
    <span class="md-ellipsis">
      Appendix: Going further
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#associated-files" class="md-nav__link">
    <span class="md-ellipsis">
      Associated files
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<style>body {text-align: justify}</style>

<script type="importmap">
  {
    "imports": {
      "three": "https://unpkg.com/three/build/three.module.js",
      "three/addons/": "https://unpkg.com/three/examples/jsm/",
      "js/": "/js/"
    }
  }
</script>

<h1 id="introduction">Introduction</h1>
<p>There are several ways to represent a terrain on a computer. This choice mainly depends on the target application (video games, scientific simulations), the type of landforms you want to represent (mountain ranges, caves, hills), and the scale at which you work. We first separate terrain representations in two: there are <strong>elevation models</strong>, and <strong>volumetric models</strong>. Elevation models are the most popular representation, as they provide a sufficiently accurate approximation while being compact in memory. However, they cannot represent <strong>volumetric landforms</strong>, such overhangs and arches, which are crucial scenic elements of virtual worlds. </p>
<h2 id="getting-started">Getting started</h2>
<p>In this guide, the main focus is on <strong>elevation models</strong>. The remainder of this page cover the basic of what is a <em>heightfield</em>, how to represent in memory, and render them on a computer. We will create the base classes and modules that will be used in the next sections. After that, the terrain section is organized in several subsections:</p>
<ul>
<li>🌍 <strong>Procedural</strong>, which covers everything you need to know on how to use noise functions and combine them to create beautiful terrains.</li>
<li>🏔️ <strong>Simulation</strong>, where you will learn about physically-based algorithms that simulates erosion on a given terrain to increase realism.</li>
<li>🪨 <strong>Volumetric</strong>, where we depart from elevation models and explain how to create underground caves, overhangs, and arches.</li>
</ul>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>While these have been written to be read in order, you may also jump to a given section, or completely skip some if you feel like it.</p>
</div>
<h2 id="heightfields">Heightfields</h2>
<p>Elevation models are also called planar models, or <strong>heightfields</strong>. Here we only represent the surface of the terrain and forget about the <em>interior</em>. As we will see, this is a powerful approximation particularly suited to terrains. More formally, a heightfield is defined by a mathematical function <span class="arithmatex">\(h: \mathbb{R}^2 \rightarrow \mathbb{R}\)</span> that computes the altitude (the <em>z</em> coordinate) of a point <span class="arithmatex">\(\mathbf{p}\)</span> in 2D space.</p>
<p style="text-align:center;">
    <img src="../../img/heightfield.jpg" width="400px"></img>
</p>

<p>If we were to write the equivalence between this mathematical function and Javascript code, it would look like this:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="1:2"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><input id="__tabbed_1_2" name="__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="__tabbed_1_1">Math</label><label for="__tabbed_1_2">Code</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p><span class="arithmatex">\(h(\mathbf{p}) : \mathbb{R}^2 \rightarrow \mathbb{R}\)</span></p>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="cm">/**</span>
<span class="cm">* Elevation function for a heightfield.</span>
<span class="cm">* p: 2D point with x and y members.</span>
<span class="cm">*/</span>
<span class="n">function</span><span class="w"> </span><span class="nf">computeElevation</span><span class="p">(</span><span class="n">p</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">let</span><span class="w"> </span><span class="n">h</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">...;</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">h</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
</div>
</div>
</div>
<p>Now the remaining question is: how do we write the function <span class="arithmatex">\(h\)</span>, and its equivalent <code>computeElevation</code> in Javascript? There is no single answer but rather different options depending on what you need. The function <span class="arithmatex">\(h\)</span> may be defined from a <strong>discrete set of samples</strong> or through <strong>procedural functions</strong>.</p>
<h3 id="discrete-vs-procedural">Discrete vs Procedural</h3>
<p>We consider that the only requirement for  <span class="arithmatex">\(h\)</span> is that it must compute the altitude of <em>any</em> point in 2D space, which means that there is a <strong>common interface</strong> between discrete and procedural representations.</p>
<p><strong>Discrete representations</strong> are the most common for terrains. Elevation is computed as the <strong><a href="../../fundamentals/interpolation/">interpolation</a></strong> of altitude values stored at discrete points, usually distributed on a regular grid. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Discrete samples usually follow a regular grid pattern for lots of practical reasons, but samples may be distributed in other ways. For instance, it is perfectly valid to distribute samples according to a <a href="https://en.wikipedia.org/wiki/Delaunay_triangulation">Delaunay triangulation</a>. This won't be covered in this guide though.</p>
</div>
<p style="text-align:center;">
    <img src="../../img/discrete_elevation.jpg" width="400px"></img>
</p>

<p>Discrete representations can be easily edited: we only need to modify the elevation stored at the discrete sample points. They are also popular because these samples may be initialized from real data. This type of heightfields is called a <strong>DEM</strong> (<strong>D</strong>igital <strong>E</strong>levation <strong>M</strong>odel), and represents <em>rasterized</em> terrain data from satellite images. </p>
<p>The requirement for discrete heightfields is that the data must exist somewhere in memory. Depending on the <em>resolution</em> of the grid, this may become impractical. For instance, if we consider that altitudes are stored as 32-bits float (4 bytes), a full resolution <span class="arithmatex">\(8k \times 8k\)</span> terrain represents 256mo, which is already pretty large and does not even encompasses colors or other common attributes.</p>
<p><strong>Procedural representations</strong> are the complete opposite. Here, we do not explicitely store anything in memory but rely on a <em>mathematical function</em> to compute the elevation at a given point. This function may be constructed in multiples ways, but always indirectly through math and code, as opposed to manually editing a specific point as it is the case with discrete heightfields. </p>
<p>The advantage is that you can theoritically represent <em>infinitely detailed terrains</em> without being limited by memory - you are only limited by the expressiveness of the underlying function. However, a typical downside of procedural models is that they require a lot more computations than discrete models, as the mathematical expression usually involves more operations than the interpolation of discrete samples.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>The <strong>memory vs computation</strong> tradeoff is a typical one in Computer Graphics, and in Computer Sciences in general. There is no universal answer to which approach you should take. <strong>It all depends on your problem setting</strong>. But it is important to understand the pros and cons of both approaches.</p>
</div>
<p>We will extensively cover how to create beautiful terrains using procedural functions in the <a href="../procedural/noise_for_terrains/">next part of this guide</a>. </p>
<h3 id="a-minimalist-implementation">A Minimalist Implementation</h3>
<p>Even though discrete and procedural models differ in many ways, there is a common interface to both that we can abstract to facilitate our work in the next sections. We will first create a <code>BaseHeightField</code> class that contains common functionalities and data.</p>
<div class="highlight"><pre><span></span><code><span class="kd">class</span><span class="w"> </span><span class="nx">BaseHeightField</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// Public members</span>
<span class="w">    </span><span class="nx">horizontalExtents</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Vector2</span><span class="p">(</span><span class="mf">10</span><span class="p">,</span><span class="w"> </span><span class="mf">10</span><span class="p">);</span>
<span class="w">    </span><span class="nx">verticalExtents</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Vector2</span><span class="p">(</span><span class="mf">0</span><span class="p">,</span><span class="w"> </span><span class="mf">10</span><span class="p">);</span>
<span class="w">    </span><span class="nx">bboxMin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Vector2</span><span class="p">(</span><span class="o">-</span><span class="mf">5</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mf">5</span><span class="p">);</span>
<span class="w">    </span><span class="nx">bboxMax</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Vector2</span><span class="p">(</span><span class="mf">5</span><span class="p">,</span><span class="w"> </span><span class="mf">5</span><span class="p">);</span>

<span class="w">    </span><span class="kr">constructor</span><span class="p">(</span><span class="nx">horizontalExtents</span><span class="p">,</span><span class="w"> </span><span class="nx">verticalExtents</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="nx">horizontalExtents</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">horizontalExtents</span><span class="p">;</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="nx">verticalExtents</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">verticalExtents</span><span class="p">;</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="nx">bboxMin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Vector2</span><span class="p">(</span>
<span class="w">            </span><span class="o">-</span><span class="k">this</span><span class="p">.</span><span class="nx">horizontalExtents</span><span class="p">.</span><span class="nx">x</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mf">2.0</span><span class="p">,</span>
<span class="w">            </span><span class="o">-</span><span class="k">this</span><span class="p">.</span><span class="nx">horizontalExtents</span><span class="p">.</span><span class="nx">y</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mf">2.0</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="nx">bboxMax</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Vector2</span><span class="p">(</span>
<span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="nx">horizontalExtents</span><span class="p">.</span><span class="nx">x</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mf">2.0</span><span class="p">,</span>
<span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="nx">horizontalExtents</span><span class="p">.</span><span class="nx">y</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mf">2.0</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// Compute altitude at a given 2D point</span>
<span class="w">    </span><span class="c1">// This is where procedural and discrete differ</span>
<span class="w">    </span><span class="nx">Elevation</span><span class="p">(</span><span class="nx">p</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="p">[...]</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="cm">/* </span>
<span class="cm">    * Compute the position of a vertex from a virtual grid indices and resolution</span>
<span class="cm">    * i, j: grid indicies</span>
<span class="cm">    * nx, ny: grid dimensions</span>
<span class="cm">    */</span>
<span class="w">    </span><span class="nx">Vertex</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span><span class="w"> </span><span class="nx">j</span><span class="p">,</span><span class="w"> </span><span class="nx">nx</span><span class="p">,</span><span class="w"> </span><span class="nx">ny</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">let</span><span class="w"> </span><span class="nx">cellDiagonal</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Vector2</span><span class="p">(</span>
<span class="w">          </span><span class="k">this</span><span class="p">.</span><span class="nx">horizontalExtents</span><span class="p">.</span><span class="nx">x</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="p">(</span><span class="nx">nx</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mf">1</span><span class="p">),</span>
<span class="w">          </span><span class="k">this</span><span class="p">.</span><span class="nx">horizontalExtents</span><span class="p">.</span><span class="nx">y</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="p">(</span><span class="nx">ny</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mf">1</span><span class="p">),</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">        </span><span class="kd">let</span><span class="w"> </span><span class="nx">p</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Vector2</span><span class="p">(</span>
<span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="nx">bboxMin</span><span class="p">.</span><span class="nx">x</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nx">cellDiagonal</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span><span class="w"> </span>
<span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="nx">bboxMin</span><span class="p">.</span><span class="nx">y</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">j</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nx">cellDiagonal</span><span class="p">.</span><span class="nx">y</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Vector3</span><span class="p">(</span>
<span class="w">            </span><span class="nx">p</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span>
<span class="w">            </span><span class="nx">p</span><span class="p">.</span><span class="nx">y</span><span class="p">,</span>
<span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="nx">Elevation</span><span class="p">(</span><span class="nx">p</span><span class="p">)</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This class contains redundant data, which is on purposes to speed-up computation and facilitate reading. This is not the most optimal.</p>
</div>
<p>We were able to factorize some class members: not matter the representation, a heightfield has three dimensions (two horizontals, one vertical). Another interesting thing that we are able to put here is the <code>Vertex</code> function, which computes a position on the heightfield over a virtual grid characterized by its dimensions. This will be very handy in the next sections when we will create a <em>mesh</em> out of our heightfield.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>An important thing to note is that we need the minimum and maximum elevation of the terrain. No matter the representation, we usually manipulate altitudes in some normalized form, thus the need to transform to world-space at the end of the computation.</p>
</div>
<p>Of course, this class is not enough by itself. It is just an <strong>abstraction layer</strong> that we will now use for both discrete and procedural cases.</p>
<p>For <strong>discrete heightfields</strong>, we must first transform our world-space point <span class="arithmatex">\(\mathbf{p}\)</span> to the space in which our samples live (grid-space), and compute the interpolation between our samples. We will use bilinear interpolation in this example. On the other hand, for <strong>procedural heightfields</strong>, we need to write the mathematical function that compute the altitude. Here we will use a cosinus, which is of course in no way realistic but still works. </p>
<div class="tabbed-set tabbed-alternate" data-tabs="2:2"><input checked="checked" id="__tabbed_2_1" name="__tabbed_2" type="radio" /><input id="__tabbed_2_2" name="__tabbed_2" type="radio" /><div class="tabbed-labels"><label for="__tabbed_2_1">Discrete</label><label for="__tabbed_2_2">Procedural</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="c1">// A minimalist discrete heightfield class</span>
<span class="kd">class</span><span class="w"> </span><span class="nx">DiscreteHeightField</span><span class="w"> </span><span class="k">extends</span><span class="w"> </span><span class="nx">BaseHeightField</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// Size of the 2D data elevation array</span>
<span class="w">    </span><span class="nx">nx</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">256</span><span class="p">;</span>
<span class="w">    </span><span class="nx">ny</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">256</span><span class="p">;</span>
<span class="w">    </span><span class="nx">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span><span class="w"> </span><span class="c1">// Altitude data</span>

<span class="w">    </span><span class="kr">constructor</span><span class="p">(</span><span class="nx">horizontalExtents</span><span class="p">,</span><span class="w"> </span><span class="nx">verticalExtents</span><span class="p">,</span><span class="w"> </span><span class="nx">nx</span><span class="p">,</span><span class="w"> </span><span class="nx">ny</span><span class="p">,</span><span class="w"> </span><span class="nx">data</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">super</span><span class="p">(</span><span class="nx">horizontalExtents</span><span class="p">,</span><span class="w"> </span><span class="nx">verticalExtents</span><span class="p">);</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="nx">nx</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">nx</span><span class="p">;</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="nx">ny</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ny</span><span class="p">;</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="nx">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">data</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="cm">/**</span>
<span class="cm">    * Bilinear interpolation of a set of values.</span>
<span class="cm">    * a00, a10, a11, a01: values to interpolate.</span>
<span class="cm">    * u, v: interpolation factors along x/y axis.</span>
<span class="cm">    */</span>
<span class="w">    </span><span class="nx">Bilinear</span><span class="p">(</span><span class="nx">a00</span><span class="p">,</span><span class="w"> </span><span class="nx">a10</span><span class="p">,</span><span class="w"> </span><span class="nx">a11</span><span class="p">,</span><span class="w"> </span><span class="nx">a01</span><span class="p">,</span><span class="w"> </span><span class="nx">u</span><span class="p">,</span><span class="w"> </span><span class="nx">v</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="p">(</span><span class="mf">1</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nx">u</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="p">(</span><span class="mf">1</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nx">v</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nx">a00</span><span class="w"> </span>
<span class="w">            </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="mf">1</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nx">u</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="p">(</span><span class="nx">v</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nx">a01</span><span class="w"> </span>
<span class="w">            </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="nx">u</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="p">(</span><span class="mf">1</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nx">v</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nx">a10</span><span class="w"> </span>
<span class="w">            </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="nx">u</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="p">(</span><span class="nx">v</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nx">a11</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// Fetch the elevation data from grid indicies</span>
<span class="w">    </span><span class="nx">SampleGrid</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span><span class="w"> </span><span class="nx">j</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">data</span><span class="p">[</span><span class="nx">i</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">ny</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">j</span><span class="p">]</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">verticalExtents</span><span class="p">.</span><span class="nx">y</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// Compute the altitude of a 2D point using bilinear interpolation</span>
<span class="w">    </span><span class="nx">Elevation</span><span class="p">(</span><span class="nx">p</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">let</span><span class="w"> </span><span class="nx">d</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Vector2</span><span class="p">(</span>
<span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="nx">bboxMax</span><span class="p">.</span><span class="nx">x</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">bboxMin</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span>
<span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="nx">bboxMax</span><span class="p">.</span><span class="nx">y</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">bboxMin</span><span class="p">.</span><span class="nx">y</span>
<span class="w">        </span><span class="p">);</span>

<span class="w">        </span><span class="kd">let</span><span class="w"> </span><span class="nx">q</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">p</span><span class="p">.</span><span class="nx">clone</span><span class="p">();</span>
<span class="w">        </span><span class="nx">q</span><span class="p">.</span><span class="nx">sub</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">bboxMin</span><span class="p">);</span>

<span class="w">        </span><span class="kd">let</span><span class="w"> </span><span class="nx">u</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">q</span><span class="p">.</span><span class="nx">x</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="nx">d</span><span class="p">.</span><span class="nx">x</span><span class="p">;</span>
<span class="w">        </span><span class="kd">let</span><span class="w"> </span><span class="nx">v</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">q</span><span class="p">.</span><span class="nx">y</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="nx">d</span><span class="p">.</span><span class="nx">y</span><span class="p">;</span>

<span class="w">        </span><span class="c1">// Scale</span>
<span class="w">        </span><span class="nx">u</span><span class="w"> </span><span class="o">*=</span><span class="w"> </span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">nx</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mf">1</span><span class="p">);</span>
<span class="w">        </span><span class="nx">v</span><span class="w"> </span><span class="o">*=</span><span class="w"> </span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">ny</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mf">1</span><span class="p">);</span>

<span class="w">        </span><span class="c1">// Integer coordinates</span>
<span class="w">        </span><span class="kd">let</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nx">u</span><span class="p">);</span>
<span class="w">        </span><span class="kd">let</span><span class="w"> </span><span class="nx">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nx">v</span><span class="p">);</span>

<span class="w">        </span><span class="c1">// Local coordinates within cell</span>
<span class="w">        </span><span class="nx">u</span><span class="w"> </span><span class="o">-=</span><span class="w"> </span><span class="nx">i</span><span class="p">;</span>
<span class="w">        </span><span class="nx">v</span><span class="w"> </span><span class="o">-=</span><span class="w"> </span><span class="nx">j</span><span class="p">;</span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">Bilinear</span><span class="p">(</span>
<span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="nx">SampleGrid</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span><span class="w"> </span><span class="nx">j</span><span class="p">),</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">SampleGrid</span><span class="p">(</span><span class="nx">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">1</span><span class="p">,</span><span class="w"> </span><span class="nx">j</span><span class="p">),</span><span class="w"> </span>
<span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="nx">SampleGrid</span><span class="p">(</span><span class="nx">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">1</span><span class="p">,</span><span class="w"> </span><span class="nx">j</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">1</span><span class="p">),</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">SampleGrid</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span><span class="w"> </span><span class="nx">j</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">1</span><span class="p">),</span><span class="w"> </span>
<span class="w">            </span><span class="nx">u</span><span class="p">,</span><span class="w"> </span><span class="nx">v</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="c1">// Minimalist procedural heightfield class</span>
<span class="kd">class</span><span class="w"> </span><span class="nx">ProceduralHeightField</span><span class="w"> </span><span class="k">extends</span><span class="w"> </span><span class="nx">BaseHeightField</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kr">constructor</span><span class="p">(</span><span class="nx">horizontalExtents</span><span class="p">,</span><span class="w"> </span><span class="nx">verticalExtents</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">super</span><span class="p">(</span><span class="nx">horizontalExtents</span><span class="p">,</span><span class="w"> </span><span class="nx">verticalExtents</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// Compute the altitude of a 2D point procedurally</span>
<span class="w">    </span><span class="nx">Elevation</span><span class="p">(</span><span class="nx">p</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">p</span><span class="p">.</span><span class="nx">x</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">p</span><span class="p">.</span><span class="nx">y</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
</div>
</div>
</div>
<p>You probably noted that the discrete heightfield class is much longer than the procedural one. The difference is that the provided code <strong>works for any set of data stored on a regular grid</strong>, while the procedural function must be modified <em>in its mathematical expression</em> if you intend to modify the output, even slightly. </p>
<h2 id="rendering-a-heightfield">Rendering a Heightfield</h2>
<p>So far we mostly talk about the internal representation of a heightfield, let it be discrete or procedural. But since we are doing Computer Graphics, we need a way to <em>render</em> these heightfields on the screen. As always, we have multiple options for that. </p>
<h3 id="polygonization">Polygonization</h3>
<p>The classical way is to create a <strong>3D mesh</strong> from the heightfield, and render it using traditional rasterization. Because we manipulate grid-based heightfield, it is straightforward to create a triangle mesh for it: each cell can be represented using four vertices and two triangles. You can think of this as a subdivided plane mesh. The code for this is the following:</p>
<div class="highlight"><pre><span></span><code><span class="cm">/**</span>
<span class="cm">* Basic 3D triangle mesh data structure.</span>
<span class="cm">*/</span><span class="w"> </span>
<span class="kd">class</span><span class="w"> </span><span class="nx">Mesh</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">vertices</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>
<span class="w">    </span><span class="nx">normals</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>
<span class="w">    </span><span class="nx">triangles</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>

<span class="w">    </span><span class="kr">constructor</span><span class="p">(</span><span class="nx">vertices</span><span class="p">,</span><span class="w"> </span><span class="nx">normals</span><span class="p">,</span><span class="w"> </span><span class="nx">triangles</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="nx">vertices</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">vertices</span><span class="p">;</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="nx">normals</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">normals</span><span class="p">;</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="nx">triangles</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">triangles</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="cm">/**</span>
<span class="cm">* Create and return a 3D mesh representing a heightfield, with vertices, normals, and triangles.</span>
<span class="cm">* hf: heightfield, which should provide a Vertex(x, y) function.</span>
<span class="cm">* nx, ny: discretization of the desired mesh along x/y axes.</span>
<span class="cm">*/</span>
<span class="nx">CreateHeightFieldMesh</span><span class="p">(</span><span class="nx">hf</span><span class="p">,</span><span class="w"> </span><span class="nx">nx</span><span class="p">,</span><span class="w"> </span><span class="nx">ny</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">vertices</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[];</span>
<span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">normals</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[];</span>
<span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">triangles</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[];</span>

<span class="w">    </span><span class="c1">// Create vertices</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kd">var</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="nx">nx</span><span class="p">;</span><span class="w"> </span><span class="nx">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kd">var</span><span class="w"> </span><span class="nx">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span><span class="w"> </span><span class="nx">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="nx">ny</span><span class="p">;</span><span class="w"> </span><span class="nx">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nx">vertices</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">hf</span><span class="p">.</span><span class="nx">Vertex</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span><span class="w"> </span><span class="nx">j</span><span class="p">,</span><span class="w"> </span><span class="nx">nx</span><span class="p">,</span><span class="w"> </span><span class="nx">ny</span><span class="p">));</span>
<span class="w">            </span><span class="nx">normals</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="ow">new</span><span class="w"> </span><span class="nx">Vector3</span><span class="p">(</span><span class="mf">0</span><span class="p">,</span><span class="w"> </span><span class="mf">0</span><span class="p">,</span><span class="w"> </span><span class="mf">0</span><span class="p">));</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// Compute triangle indices</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kd">var</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="nx">nx</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mf">1</span><span class="p">;</span><span class="w"> </span><span class="nx">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kd">var</span><span class="w"> </span><span class="nx">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span><span class="w"> </span><span class="nx">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="nx">ny</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mf">1</span><span class="p">;</span><span class="w"> </span><span class="nx">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="c1">// Triangle 1</span>
<span class="w">            </span><span class="nx">triangles</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">i</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nx">ny</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">j</span><span class="p">);</span>
<span class="w">            </span><span class="nx">triangles</span><span class="p">.</span><span class="nx">push</span><span class="p">((</span><span class="nx">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">1</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nx">ny</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">j</span><span class="p">);</span>
<span class="w">            </span><span class="nx">triangles</span><span class="p">.</span><span class="nx">push</span><span class="p">((</span><span class="nx">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">1</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nx">ny</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">j</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">1</span><span class="p">);</span>

<span class="w">            </span><span class="c1">// Triangle 2</span>
<span class="w">            </span><span class="nx">triangles</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">i</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nx">ny</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">j</span><span class="p">);</span>
<span class="w">            </span><span class="nx">triangles</span><span class="p">.</span><span class="nx">push</span><span class="p">((</span><span class="nx">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">1</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nx">ny</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">j</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">1</span><span class="p">);</span>
<span class="w">            </span><span class="nx">triangles</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">i</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nx">ny</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">j</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">1</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// Compute normals from triangles</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kd">var</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="nx">triangles</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="mf">3</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">let</span><span class="w"> </span><span class="nx">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">vertices</span><span class="p">[</span><span class="nx">triangles</span><span class="p">[</span><span class="nx">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">0</span><span class="p">]].</span><span class="nx">clone</span><span class="p">();</span>
<span class="w">        </span><span class="kd">let</span><span class="w"> </span><span class="nx">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">vertices</span><span class="p">[</span><span class="nx">triangles</span><span class="p">[</span><span class="nx">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">1</span><span class="p">]].</span><span class="nx">clone</span><span class="p">();</span>
<span class="w">        </span><span class="kd">let</span><span class="w"> </span><span class="nx">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">vertices</span><span class="p">[</span><span class="nx">triangles</span><span class="p">[</span><span class="nx">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">2</span><span class="p">]].</span><span class="nx">clone</span><span class="p">();</span>

<span class="w">        </span><span class="kd">let</span><span class="w"> </span><span class="nx">ba</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">b</span><span class="p">;</span>
<span class="w">        </span><span class="nx">ba</span><span class="p">.</span><span class="nx">sub</span><span class="p">(</span><span class="nx">a</span><span class="p">);</span>
<span class="w">        </span><span class="kd">let</span><span class="w"> </span><span class="nx">n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ba</span><span class="p">.</span><span class="nx">cross</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">sub</span><span class="p">(</span><span class="nx">a</span><span class="p">)).</span><span class="nx">normalize</span><span class="p">();</span>
<span class="w">        </span><span class="nx">normals</span><span class="p">[</span><span class="nx">triangles</span><span class="p">[</span><span class="nx">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">0</span><span class="p">]].</span><span class="nx">add</span><span class="p">(</span><span class="nx">n</span><span class="p">);</span>
<span class="w">        </span><span class="nx">normals</span><span class="p">[</span><span class="nx">triangles</span><span class="p">[</span><span class="nx">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">1</span><span class="p">]].</span><span class="nx">add</span><span class="p">(</span><span class="nx">n</span><span class="p">);</span>
<span class="w">        </span><span class="nx">normals</span><span class="p">[</span><span class="nx">triangles</span><span class="p">[</span><span class="nx">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">2</span><span class="p">]].</span><span class="nx">add</span><span class="p">(</span><span class="nx">n</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kd">var</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="nx">normals</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="w"> </span><span class="nx">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">normals</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">normalize</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Mesh</span><span class="p">(</span><span class="nx">vertices</span><span class="p">,</span><span class="w"> </span><span class="nx">normals</span><span class="p">,</span><span class="w"> </span><span class="nx">triangles</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Creating a mesh is possible for <strong>both discrete and procedural representations</strong> discussed so far. The only requirement is that the heightfield should provide a function to compute the altitude of a 2D point. However, note that by discretizing a procedural heightfield, we <strong>loose the compact memory aspect</strong>.</p>
</div>
<p>As mentioned before, creating a triangle mesh has a cost regarding memory: you need to explicitely store vertex and triangle data on the GPU. Thus, if your discretization is high, the memory impact will also be high, which can be a limiting factor.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Note that the resolution of our discrete heightfield has no connection with the resolution of our mesh: we can completely create a 1024x1024 mesh out of a 256x256 heightfield thanks to interpolation. However, this may lead to visual artifacts, especially when using only bilinear interpolation.</p>
</div>
<h3 id="sphere-tracing">Sphere tracing</h3>
<p>An alternative which shines best for procedural representations, is to avoid the creation of a 3D mesh and render the terrain directly <strong>using raymarching or sphere tracing</strong>. While being theoritically elegant and simple to implement, this is however less adapted to current graphics and physics pipelines which mainly work with triangle meshes. For a procedural heightfield, another downfall is that the <strong>rendering performance is directly tied to the complexity of the underlying function</strong>, which can quickly get really complicated.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>There are many ways to <strong>optimize the evaluation of a procedural function</strong> (for heightfields, or more generally <a href="../../fundamentals/implicits/">implicit surfaces</a>), including <em>bounding volume hierarchies</em>, <em>expression simplification</em>, and many others. The guide may be extended to include these in the (long-term) future.</p>
</div>
<p>In this guide, we will mostly use the <strong>triangle mesh representation</strong> and work with heightfields of relatively low resolution. When appropriate, a slider to modify the grid discretization will be exposed.</p>
<h2 id="interactive-example">Interactive Example</h2>
<p>All sections in this guide will be illustrated with figures and interactive examples thanks to Three.js. The one below uses the classes created in this page, and shows both discrete and procedural heightfields rendered as 3D meshes. The discrete version is initialized from a small DEM of the french alps. Move around the scene with the mouse!</p>
<div class="threeJsCanvas" id="ExampleIntro"></div>
<script type="application/x-javascript" src="/js/terrain/intro/example-intro.js"> </script>

<h2 id="appendix-storing-heightfields-as-images">Appendix: Storing Heightfields as Images</h2>
<p>A typical way of storing heightfield data on a disk is to use <strong>images</strong>, which makes complete sense because we store a single elevation value for each grid sample. You can find many examples of this online, as DEMs are typically shared as PNG files. However, an image only provides incomplete information about a terrain: there is no way to know the <strong>world space extent</strong> nor the <strong>altitude range</strong>. It is thus not unusual to see online posts with terrains exaggerated vertically or horizontally. This is a good reminder that <strong>terrains are not images.</strong></p>
<p style="text-align:center;">
    <img src="../../img/dem_examples.jpg" width="500px"></img>
    <br>
    <i>Example of images representing terrains, with no way of telling what is the actual horizontal and vertical extents. Left is a DEM of the Alps with a 12km horizontal extent, and a altitude range of [205, 4805] meters. Right is a procedural ridge noise baked with no real world-space dimensions.</i>
</p>

<p>There is no real solution to this problem, except that you should provide additional information alongside the image file of your heightfield. Image files are still vastly used because they are easy to share and can be opened and edited using various softwares. </p>
<h2 id="appendix-going-further">Appendix: Going further</h2>
<p>Different models were developed throughout the years to represent a terrain on a computer - for the discrete case we covered regular heightfields, which are the most popular representation, but there are others:</p>
<ul>
<li>Hexagon and triangular fields <a href="https://onlinelibrary.wiley.com/doi/abs/10.1111/1467-8659.1310037">[Dixon et al. 1994]</a></li>
<li>Combinatorial maps <a href="https://www.researchgate.net/publication/264287426_Generalized_Maps_for_Erosion_and_Sedimentation_Simulation">[Crespin et al. 2014]</a></li>
</ul>
<h2 id="associated-files">Associated files</h2>
<p>Files associated with this page are available <a href="https://github.com/aparis69/LearnProceduralGeneration/tree/main/docs/js/terrain/intro">here</a>.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.expand", "navigation.indexes"], "search": "../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.bd41221c.min.js"></script>
      
        <script src="../../js/libs/mathjax.js"></script>
      
        <script src="../../js/libs/noiselib.js"></script>
      
        <script src="../../js/terrain/intro/example-intro.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>